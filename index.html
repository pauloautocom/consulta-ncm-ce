<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Consulta NCM • cClassTrib • CE</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#f4f6f8;padding:15px}
h1{text-align:center;font-size:20px}
input{width:100%;padding:14px;font-size:16px;border-radius:8px;border:1px solid #ccc}
table{width:100%;border-collapse:collapse;margin-top:15px;background:#fff}
th,td{border:1px solid #ddd;padding:8px;font-size:14px}
th{background:#2563eb;color:#fff}
tr:nth-child(even){background:#f1f5f9}
.msg{text-align:center;margin-top:10px;font-weight:bold;color:#b91c1c}
@media(max-width:600px){th,td{font-size:12px}}
</style>
</head>

<body>

<h1>Consulta NCM • cClassTrib • CST (CE)</h1>

<input id="busca"
placeholder="Digite: água mineral, cabo usb, camisa algodão ou NCM"
oninput="buscar()">

<table>
<thead>
<tr>
<th>NCM</th>
<th>Produto</th>
<th>cClassTrib</th>
<th>Descrição</th>
<th>CST</th>
</tr>
</thead>
<tbody id="resultado"></tbody>
</table>

<div id="msg" class="msg"></div>

<script>
function norm(t){
 return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");
}

/* ================= BASE DE DADOS ================= */
const base = [
/* ===== ALIMENTOS ===== */
{ncm:"22011000",nome:"Água mineral"},
{ncm:"22011100",nome:"Água mineral gaseificada"},
{ncm:"22021000",nome:"Refrigerante"},
{ncm:"22030000",nome:"Cerveja"},
{ncm:"22072020",nome:"Cachaça"},
{ncm:"10063021",nome:"Arroz"},
{ncm:"07133329",nome:"Feijão"},
{ncm:"19053100",nome:"Biscoito"},
{ncm:"15079011",nome:"Óleo vegetal"},
{ncm:"22090000",nome:"Vinagre"},
{ncm:"04072100",nome:"Ovo"},
{ncm:"02013000",nome:"Carne bovina"},
{ncm:"02071400",nome:"Frango"},
{ncm:"07019000",nome:"Batata"},
{ncm:"09012100",nome:"Café torrado"},
{ncm:"17019900",nome:"Açúcar"},
{ncm:"04012010",nome:"Leite UHT"},

/* ===== ELETRÔNICOS ===== */
{ncm:"85444200",nome:"Cabo USB"},
{ncm:"85044090",nome:"Carregador de celular"},
{ncm:"85171231",nome:"Telefone celular"},
{ncm:"85287200",nome:"Televisão LED"},
{ncm:"85183000",nome:"Fone de ouvido"},
{ncm:"84713012",nome:"Notebook"},
{ncm:"84716052",nome:"Teclado"},
{ncm:"84716053",nome:"Mouse"},
{ncm:"85235110",nome:"Pen drive"},
{ncm:"85258029",nome:"Câmera digital"},

/* ===== VESTUÁRIO ===== */
{ncm:"61091000",nome:"Camiseta de algodão"},
{ncm:"61051000",nome:"Camisa de algodão"},
{ncm:"62034200",nome:"Calça jeans"},
{ncm:"64039990",nome:"Tênis"},
{ncm:"61071100",nome:"Cueca"},
{ncm:"61082100",nome:"Calcinha"},
{ncm:"61044300",nome:"Vestido"},
{ncm:"61102000",nome:"Blusa de malha"},
{ncm:"62113300",nome:"Bermuda"},
{ncm:"65050090",nome:"Boné"},

/* ===== LIMPEZA / OUTROS ===== */
{ncm:"34011190",nome:"Detergente"},
{ncm:"34022000",nome:"Sabão em pó"},
{ncm:"48181000",nome:"Papel higiênico"},
{ncm:"39269090",nome:"Saco plástico"}
];

/* ===== REGRA FISCAL (CE – PADRÃO) ===== */
const cClassTrib="000001";
const descClass="Tributação integral";
const CST="000";

/* ================= BUSCA ================= */
function buscar(){
 const termo = norm(document.getElementById("busca").value);
 const res = document.getElementById("resultado");
 const msg = document.getElementById("msg");
 res.innerHTML="";
 msg.innerText="";

 if(termo.length<2) return;

 const filtroNCM = termo.replace(/\D/g,"");

 const achados = base.filter(p=>{
   if(filtroNCM && p.ncm.startsWith(filtroNCM)) return true;
   return norm(p.nome).includes(termo);
 });

 if(!achados.length){
   msg.innerText="Nenhum resultado encontrado";
   return;
 }

 achados.forEach(p=>{
   res.innerHTML+=`
   <tr>
     <td>${p.ncm}</td>
     <td>${p.nome}</td>
     <td>${cClassTrib}</td>
     <td>${descClass}</td>
     <td>${CST}</td>
   </tr>`;
 });
}
</script>

</body>
</html>
